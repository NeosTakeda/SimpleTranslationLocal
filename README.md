# SimpleTranslationLocal
自分用の辞書ツール  
![ss](https://user-images.githubusercontent.com/31182578/108478936-749ed200-72d8-11eb-86b9-91e34093fb3e.png)

# 開発のきっかけ
[Mouse Dictionary](https://qiita.com/wtetsu/items/c43232c6c44918e977c9)は便利だと思ったものの以下を改善した方が自分的に使いやすくなるだろうと思ったため。
* Chrome以外でも使える(Windowsで使えれば十分)
* 検索結果がもう少し見やすい方が良い


# 導入
## アプリのビルド環境
* Visual Studio 16.4.5  
* .NET Framework 4.8

## 辞書データの入手
### 英辞郎
[公式サイト](https://www.eijiro.jp/index.shtml)から辞書データを購入してください

### Websters
[GitHub](https://github.com/matthewreagan/WebstersEnglishDictionary)からdictionary.jsonをダウンロードしてください。  
※ポンコツ自作パーサーを使用しているのでJSONの構文を適切に解析しているわけではありません。そのため、他のjsonを使用するとアプリが落ちるか正常に取込を行えません。

## インポート
* タスクトレイのアイコンを右クリック - Importを選択
* Selectボタンをクリックして辞書ファイルを選択
* Importボタンをクリック

自分の環境では英辞郎のファイル取込に数分かかりますので、のんびりお待ち下さい。  
※原因は分かっていませんがWebsterの取込みは件数のわりに遅す気がします・・・

# 検索
タスクトレイのアイコンを右クリック - Searchを選択するか Ctrl + Shift  + Alt + Lで検索ウィンドウを表示。検索したい単語を入力してEnterを押すか、少し時間(0.5秒程度)をあけると検索を行います。

検索は以下の順番で行います(１で該当データなければ2を実行。２で該当データなければ３を実行）。２～３の該当データが複数存在する場合は最大５件まで表示します。目的の結果が見つからない場合は検索キーワードを変更するか、ググってください。
1. 完全一致
2. 前方一致

# 高速検索
検索速度を向上させるため、検索に使用した辞書情報はメモリに展開します(理論値的には最大3~400MBを想定してます。が、ここまでメモリを使うほど検索することは稀だと思われます。。)。
※以前のバージョンでは辞書データをすべてメモリに展開する仕組みを用意していましたが、アプリ起動時のメモリ展開に30秒程度かかるのでやめました。。

# ショートカットキー
Shift + Ctrl + Alt + L : 検索ウィンドウを表示 or アクティブに設定  
Shift + Ctrl + T : ウィンドウの最前面表示切り替え([T])  
Esc : 検索ウィンドウを最小化  
Enter : 検索処理を実行  
Shift + Ctrl + O : 一度だけクリップボードを監視([O])  
Shift + Ctrl + Alt + O : 常時クリップボードを監視([OO])  

※クリップボード監視：監視を有効にした状態でテキストをコピーすると、コピーした文字列の検索を行います。


